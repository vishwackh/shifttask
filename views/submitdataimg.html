
<div class="container top30">

<div class="col-md-8">
 <div class="stepwizard hide">
    <div class="stepwizard-row setup-panel">
          <div class="stepwizard-step">
        <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
        <p>Step 1</p>
      </div>
          <div class="stepwizard-step">
        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
        <p>Step 2</p>
      </div>
          <div class="stepwizard-step">
        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
        <p>Step 3</p>
      </div>
        </div>
  </div>

<form role="form" name="infoForm"  novalidate>
    <div class="row setup-content" id="step-1">
        <div class="col-xs-12">
				<div class="panel panel-default">
				<div class="panel-heading text-center">
					SHIFTING INFO 1
				</div>
{{submitdata.collectionDate|date:'dd/MM/yyyy'}}
				<div class="panel-body boxme">
				<div class="row">
          <div class="col-md-6">
          <label class="control-label">Collection Date</label>
            <div class="input-group" ng-class="{ 'has-error' : infoForm.collectionDate.$invalid && (infoForm.collectionDate.$dirty || submitted)}">
              <input type="text"  class="form-control bigcal" uib-datepicker-popup="{{format}}" ng-model="submitdata.collectionDate" is-open="popup1.opened" datepicker-options="dateOptions" name="collectionDate" ng-required="true" close-text="Close"  placeholder="Select Collection Date" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default bigcal" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </div>
          <p ng-show="infoForm.collectionDate.$error.required && (infoForm.collectionDate.$dirty || submitted)" class="help-block red">Collection Date required.</p>
          </div>
          <div class="col-md-6">
        	<label class="control-label">Delivery Date:</label>
              <div class="input-group" ng-class="{ 'has-error' : infoForm.deliveryDate.$invalid && (infoForm.deliveryDate.$dirty || submitted)}">
                <input type="text" name="deliveryDate" class="form-control bigcal" uib-datepicker-popup="{{format}}" ng-model="submitdata.deliveryDate" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" placeholder="Select Delivery Date"  />
                <span class="input-group-btn">
                  <button type="button" class="btn btn-default bigcal" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
              </div>
        <p ng-show="infoForm.deliveryDate.$error.required && (infoForm.deliveryDate.$dirty || submitted)" class="help-block red">Delivery Date required.</p>
          </div>
					</div>
          <div class="clearfix">&nbsp;</div>
					<div class="row">
					<div class="col-xs-6">
						<div class="form-group" ng-class="{ 'has-error' : infoForm.sourceLocation.$invalid && (infoForm.sourceLocation.$dirty || submitted)}">
							<label class="control-label">Source Location</label>
						<input  maxlength="400" type="text" required="required" name="sourceLocation" ng-model="submitdata.sourceLocation" class="form-control input-lg" ng-required="true" placeholder="Enter Source Location"  />
            <p ng-show="infoForm.sourceLocation.$error.required && (infoForm.sourceLocation.$dirty || submitted)" class="help-block">Your Source Location required.</p>
						  </div>
					</div>

					<div class="col-xs-6">
            <div class="form-group" ng-class="{ 'has-error' : infoForm.sourcePlace.$invalid && (infoForm.sourcePlace.$dirty || submitted)}">
							<label class="control-label">Source Place</label>
						<input  maxlength="400" type="text" required="required" name="sourcePlace" ng-model="submitdata.sourcePlace" class="form-control input-lg" ng-required="true" placeholder="Enter Source Place"  />
            <p ng-show="infoForm.sourcePlace.$error.required && (infoForm.sourcePlace.$dirty || submitted)" class="help-block">Your Source Place required.</p>
						  </div>
					</div>
					</div>
          <div class="row">
					<div class="col-xs-6">
            <div class="form-group" ng-class="{ 'has-error' : infoForm.sourcePinCode.$invalid && (infoForm.sourcePinCode.$dirty || submitted)}">
          <label class="control-label">Source PinCode</label>
            <input type="text" name="sourcePinCode" class="form-control input-lg" placeholder="Source PinCode" ng-model="submitdata.sourcePinCode" maxlength="6" ng-pattern="/^[1-9][0-9]{5}$/"ng-required="true"/>
			 <p ng-show="infoForm.sourcePinCode.$error.required && (infoForm.sourcePinCode.$dirty || submitted)" class="help-block">Your Source PinCode is required.</p>
			 <p ng-show="infoForm.sourcePinCode.$error.pattern && (infoForm.sourcePinCode.$dirty || submitted)" class="help-block">Enter valid Pin Code.</p>
            </div>
					</div>

					<div class="col-xs-6">
            <div class="form-group" ng-class="{ 'has-error' : infoForm.sourceFlatNum.$invalid && (infoForm.sourceFlatNum.$dirty || submitted)}">
							<label class="control-label">Source Flat Num</label>
						<input  maxlength="400" type="text" name="sourceFlatNum" required="required" ng-model="submitdata.sourceFlatNum" class="form-control input-lg" ng-required="true" placeholder="Enter Source Flat Num"  />
            <p ng-show="infoForm.sourceFlatNum.$error.required && (infoForm.sourceFlatNum.$dirty || submitted)" class="help-block">Your Source Flat Number is required.</p>
						</div>
					</div>
					</div>
          <div class="row">
            <div class="col-xs-6"></div>
					<div class="col-xs-6">
            <div class="form-group top30" ng-class="{ 'has-error has-feedback' : infoForm.issourceLiftExists.$invalid && (infoForm.issourceLiftExists.$dirty || submitted)} ">

              <div class="radio-inline">
              <label>
                <input type="radio" name="issourceLiftExists" ng-model="submitdata.issourceLiftExists" ng-required="!issourceLiftExists" value="Yes" > Lift Available
              </label>
              </div>
              <div class="radio-inline">
              <label>
                <input type="radio" name="issourceLiftExists" ng-model="submitdata.issourceLiftExists" ng-required="!issourceLiftExists" value="No" > Lift Not Available
              </label>
              </div>
            <p ng-show="infoForm.issourceLiftExists.$error.required && (infoForm.issourceLiftExists.$dirty || submitted)" class="help-block">Your Lift info required.</p>
            </div>
					</div>
					</div>
				</div>
				</div>
	              <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next <span class="glyphicon glyphicon-chevron-right"></span></button>
      	</div>
        </div>
    <div class="row setup-content" id="step-2">
          <div class="col-xs-12">

				<div class="panel panel-default">
					<div class="panel-heading text-center">
						SHIFTING INFO 2
					</div>

					<div class="panel-body boxme">
            <div class="row">
  					<div class="col-xs-6">
  						<div class="form-group" ng-class="{ 'has-error' : infoForm.destLocation.$invalid && (infoForm.destLocation.$dirty || submitted)}">
  							<label class="control-label">Destination Location</label>
  						<input  maxlength="400" type="text" required="required" name="destLocation" ng-model="submitdata.destLocation" class="form-control input-lg" ng-required="true" placeholder="Enter Destination Location"  />
              <p ng-show="infoForm.destLocation.$error.required && (infoForm.destLocation.$dirty || submitted)" class="help-block">Your Destination Location required.</p>
  						  </div>
  					</div>

  					<div class="col-xs-6">
              <div class="form-group" ng-class="{ 'has-error' : infoForm.destPlace.$invalid && (infoForm.destPlace.$dirty || submitted)}">
  							<label class="control-label">Destination Place</label>
  						<input  maxlength="400" type="text" required="required" name="destPlace" ng-model="submitdata.destPlace" class="form-control input-lg" ng-required="true" placeholder="Enter Destination Place"  />
              <p ng-show="infoForm.destPlace.$error.required && (infoForm.destPlace.$dirty || submitted)" class="help-block">Your Destination Place required.</p>
  						  </div>
  					</div>
  					</div>
            <div class="row">
  					<div class="col-xs-6">
              <div class="form-group" ng-class="{ 'has-error' : infoForm.destPinCode.$invalid && (infoForm.destPinCode.$dirty || submitted)}">
            <label class="control-label">Destination PinCode</label>
              <input type="text" name="destPinCode" class="form-control input-lg" placeholder="Destination PinCode" ng-model="submitdata.destPinCode" maxlength="6" ng-pattern="/^[1-9][0-9]{5}$/"ng-required="true"/>
  			 <p ng-show="infoForm.destPinCode.$error.required && (infoForm.destPinCode.$dirty || submitted)" class="help-block">Your Destination PinCode is required.</p>
  			 <p ng-show="infoForm.destPinCode.$error.pattern && (infoForm.destPinCode.$dirty || submitted)" class="help-block">Enter valid Pin Code.</p>
              </div>
  					</div>

  					<div class="col-xs-6">
              <div class="form-group" ng-class="{ 'has-error' : infoForm.destFlatNum.$invalid && (infoForm.destFlatNum.$dirty || submitted)}">
  							<label class="control-label">Destination Flat Num</label>
  						<input  maxlength="400" type="text" name="destFlatNum" required="required" ng-model="submitdata.destFlatNum" class="form-control input-lg" ng-required="true" placeholder="Enter Destination Flat Num"  />
              <p ng-show="infoForm.destFlatNum.$error.required && (infoForm.destFlatNum.$dirty || submitted)" class="help-block">Your Destination Flat Number is required.</p>
  						</div>
  					</div>
  					</div>
            <div class="row">
              <div class="col-xs-6"></div>
  					<div class="col-xs-6">
              <div class="form-group top30" ng-class="{ 'has-error has-feedback' : infoForm.isdestLiftExists.$invalid && (infoForm.isdestLiftExists.$dirty || submitted)} ">

                <div class="radio-inline">
                <label>
                  <input type="radio" name="isdestLiftExists" ng-model="submitdata.isdestLiftExists" ng-required="!isdestLiftExists" value="Yes" > Lift Available
                </label>
                </div>
                <div class="radio-inline">
                <label>
                  <input type="radio" name="isdestLiftExists" ng-model="submitdata.isdestLiftExists" ng-required="!isdestLiftExists" value="No" > Lift Not Available
                </label>
                </div>
              <p ng-show="infoForm.isdestLiftExists.$error.required && (infoForm.isdestLiftExists.$dirty || submitted)" class="help-block">Your Lift info required.</p>
              </div>
  					</div>
  					</div>
					</div>
				</div>
              <button class="btn btn-primary nextBtn btn-lg pull-right" type="button" >Next <span class="glyphicon glyphicon-chevron-right"></span></button>

      </div>
        </div>
    <div class="row setup-content" id="step-3">

        <div class="col-md-12">

				<div class="panel panel-default">
					<div class="panel-heading text-center">
						YOUR PERSONAL DETAILS
					</div>

					<div class="panel-body boxme">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group" ng-class="{ 'has-error' : infoForm.serviceType.$invalid && (infoForm.serviceType.$dirty || submitted)}">
      						<label class="control-label">Service Type</label>
      						<select class="form-control input-lg"  name="serviceType" ng-model="submitdata.serviceType" ng-options=" c.Id as c.Name for c in bhkList" ng-required="true">
      						  <option value=''>Select Service Type</option>
      						</select>
      					<p ng-show="infoForm.serviceType.$error.required && (infoForm.serviceType.$dirty || submitted)" class="help-block">Select Service Type.</p>
      					</div>
              </div>
              <div class="col-md-6">
                <div class="form-group" ng-class="{ 'has-error' : infoForm.travelCategory.$invalid && (infoForm.travelCategory.$dirty || submitted)}">
    							<label class="control-label">Travel Category</label>
    						<input  maxlength="400" type="text" required="required" ng-model="submitdata.travelCategory" class="form-control input-lg" ng-required="true" placeholder="Enter Travel Category"  />
                            <p ng-show="infoForm.travelCategory.$error.required && (infoForm.travelCategory.$dirty || submitted)" class="help-block">Your Travel Category required.</p>
    						  </div>
              </div>
            </div>
          <div class="row">
					<div class="col-xs-6">
					 <div class="form-group" ng-class="{ 'has-error' : infoForm.emailId.$invalid && (infoForm.emailId.$dirty || submitted)}">
					 <label class="control-label">Email</label>
					 <input type="email" name="emailId" class="form-control input-lg" ng-model="submitdata.emailId" placeholder="Your Email Address" ng-required="true">
					 <p ng-show="infoForm.emailId.$error.required && (infoForm.emailId.$dirty || submitted)" class="help-block">Email is required.</p>
					 <p ng-show="infoForm.emailId.$error.email && (infoForm.emailId.$dirty || submitted)" class="help-block">Enter a valid email.</p>
					 </div>
					</div>

            <div class="col-xs-6">
					 <div class="form-group" ng-class="{ 'has-error' : infoForm.phonenumber.$invalid && (infoForm.phonenumber.$dirty || submitted)}">
					 <label class="control-label">Mobile Number</label>
					 <input type="text" name="phonenumber" class="form-control input-lg" ng-model="submitdata.phonenumber" placeholder="Your Mobile Number" autofocus ng-pattern="/^[789]\d{9}$/" maxlength="10" ng-required="true">
					 <p ng-show="infoForm.phonenumber.$error.required && (infoForm.phonenumber.$dirty || submitted)" class="help-block">Your Mobile Number is required.</p>
					 <p ng-show="infoForm.phonenumber.$error.pattern && (infoForm.phonenumbers.$dirty || submitted)" class="help-block">Enter a valid contactno.</p>
					 </div>
					</div>
          </div>

        </div>
				</div>
<button class="btn btn-success btn-lg nextBtn pull-right" type="submit" ng-click="submitimg(submitdata)">Submit </button>
        </div>
    </div>
</form>

   <div ng-repeat="i in upImages">{{i.url}}</div>
</div>
<div ui-view="one" class="col-md-4">

</div>



</div>
<script type="text/javascript">
  $(document).ready(function () {

  var navListItems = $('div.setup-panel div a'),
		  allWells = $('.setup-content'),
		  allNextBtn = $('.nextBtn');

  allWells.hide();

  navListItems.click(function (e) {
	  e.preventDefault();
	  var $target = $($(this).attr('href')),
			  $item = $(this);

	  if (!$item.hasClass('disabled')) {
		  navListItems.removeClass('btn-primary').addClass('btn-default');
		  $item.addClass('btn-primary');
		  allWells.hide();
		  $target.show();
		  $target.find('input:eq(0)').focus();
	  }
  });

  allNextBtn.click(function(){
	  var curStep = $(this).closest(".setup-content"),
		  curStepBtn = curStep.attr("id"),
		  nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
		  curInputs = curStep.find("input[type='text'],input[type='url'],textarea[textarea],select,input[type=checkbox], input[type=radio],input[type='email']"),
		  isValid = true;

	  $(".form-group").removeClass("has-error");
	  for(var i=0; i<curInputs.length; i++){
		  if (!curInputs[i].validity.valid){
			  isValid = false;
			  $(curInputs[i]).closest(".form-group").addClass("has-error");
		  }
	  }

	  if (isValid)
		  nextStepWizard.removeAttr('disabled').trigger('click');
  });

  $('div.setup-panel div a.btn-primary').trigger('click');
});
  </script>
